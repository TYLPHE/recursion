<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recursion</title>
</head>
<body>
  <div>
    <h1>
      Fibonacci Sequence
    </h1>
    <label>Please enter a Fibonacci length: </label>
    <input type="number" class="fib" value="5"/>
    <button class="fib-button">Go!</button>
    <div class="fib-seq-ans"></div>
    <pre class="feb-seq-code"></pre>
    <div class="fib-rec-ans"></div>
    <pre class="feb-rec-code"></pre>
  </div>

  <script>
    const input = document.querySelector('.fib')
    const button = document.querySelector('.fib-button');
    const fibSeqAns = document.querySelector('.fib-seq-ans');
    const fibSeqCode = document.querySelector('.feb-seq-code');
    const fibRecAns = document.querySelector('.fib-rec-ans');
    const fibRecCode = document.querySelector('.feb-rec-code');
    const test = document.querySelector('.test');
    button.addEventListener('click', () => {
      fibs(input.value);
      fibsRec(input.value);
    });
  
    function fibs(n) {
      let arr = [];
      let a = 0;
      let b = 1;
      for (let i = 1; i <= n; i += 1) {
        arr.push(a);
        let c = a + b;
        a = b;
        b = c;
      }

      // render element to page
      fibSeqCode.textContent = `
        function fibs(n) {
          let arr = [];
          let a = 0;
          let b = 1;
          for (let i = 1; i <= n; i += 1) {
            arr.push(a);
            let c = a + b;
            a = b;
            b = c;
          }
        }
      `
      answer = '';
      for (let i = 0; i < arr.length; i += 1) {
        if (i === 0) {
          answer += `[${arr[i]}, `;
        } else if (i === arr.length - 1) {
          answer += `${arr[i]}]`;
        } else {
          answer += `${arr[i]}, `
        }
        if (arr[i] === 0 && arr.length === 1) {
          answer = `[${arr[i]}]`
        }
      }

      fibSeqAns.textContent = `Iteration: ${answer}`;
    }

    function fibsRec(n) {
      let arr = [];
      for (let i = 0; i < n; i += 1) {
        arr.push(fib(i));
      }

      function fib(n) {
        if (n < 2) {
          return n;
        } else {
          return fib(n - 1) + fib(n - 2);
        }
      }

       // render element to page
      fibRecCode.textContent = `
        function fib(n) {
          if (n < 2) {
            return n;
          } else {
            return fib(n - 1) + fib(n - 2);
          }
        }
      `
      answer = '';
      for (let i = 0; i < arr.length; i += 1) {
        if (i === 0) {
          answer += `[${arr[i]}, `;
        } else if (i === arr.length - 1) {
          answer += `${arr[i]}]`;
        } else {
          answer += `${arr[i]}, `
        }
        if (arr[i] === 0 && arr.length === 1) {
          answer = `[${arr[i]}]`
        }
      }

      fibRecAns.textContent = `Recursion: ${answer}`;
    }
  </script>
</body>
</html>